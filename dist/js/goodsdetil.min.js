"use strict";$(function(){var o=location.search.split("=")[1];$.get("http://47.104.244.134:8080/goodsbyid.do",{id:o},function(t){$("#zhongtu img").attr({src:t.picurl}),$("#xiaotu li").eq(0).find("img").attr({src:t.picurl}),$("#bigtu img").attr({src:t.picurl}),$(".detil02 h1").html(t.name),$(".price").html(t.price),$(".add_btn").attr({"data-id":o})}),function(){$("#zhongtu").mouseover(function(){$("#zoom").css({display:"block"}),$("#bigtu").css({display:"block"})}),$("#zhongtu").mouseout(function(){$("#zoom").css({display:"none"}),$("#bigtu").css({display:"none"})}),$("#zhongtu").mousemove(function(t){var o=t||event,i=o.pageX-$(this).offset().left-$("#zoom").width()/2,n=o.pageY-$(this).offset().top-$("#zoom").height()/2,e=$("#zhongtu").width()-$("#zoom").width(),s=$("#zhongtu").height()-$("#zoom").height();i=i<=0?0:e<i?e:i,n=n<=0?0:s<n?s:n,$("#zoom").css({left:i+"px",top:n+"px"});var a=-i/$("#zhongtu").width()*$("#bigtu img").width()+"px",u=-n/$("#zhongtu").height()*$("#bigtu img").height()+"px";$("#bigtu img").css({left:a,top:u})});for(var t=0;t<$("#xiaotu li").length;t++)$("#xiaotu li").eq(t).mouseover(function(){var t=$(this).find("img").attr("src");$("#zhongtu img").attr({src:t}),$("#bigtu img").attr({src:t})})}(),$(".goods_numplus").click(function(){$(".goodsnumber").val(parseInt($(".goodsnumber").val())+1)}),$(".goods_nummins").click(function(){"1"==$(".goodsnumber").val()?$(".goodsnumber").val("1"):$(".goodsnumber").val(parseInt($(".goodsnumber").val())-1)}),$(".add_btn").click(function(){if(void 0===$.cookie("token")||null==$.cookie("token"))alert("请先登录！！"),location.href="login.html";else{$(this).attr("data-id");for(var t=0;t<parseInt($(".goodsnumber").val());t++)$.get("http://47.104.244.134:8080/cartsave.do",{gid:o,token:$.cookie("token")},function(t){"1"==t.code&&alert("添加失败！！！")});$.get("http://47.104.244.134:8080/cartlist.do",{token:$.cookie("token")},function(t){$(".cartnum").html(t.length).parent().attr({href:"shopcart.html"})})}})});