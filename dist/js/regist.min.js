"use strict";$(function(){$.fn.drag=function(s,t){var e,n=this,l=!1;t=$.extend({},t);this.append('<div class="drag_bg"></div><div class="drag_text" onselectstart="return false;" unselectable="on" style="font-size:12px">请按住滑块，拖动到最右边</div><div class="handler handler_bg"></div>');var i=n.find(".handler"),a=n.find(".drag_bg"),o=n.find(".drag_text"),c=n.width()-i.width();i.mousedown(function(s){l=!0,e=s.pageX-parseInt(i.css("left"),10)}),$(document).mousemove(function(s){var t=s.pageX-e;l&&(0<t&&t<=c?(i.css({left:t}),a.css({width:t})):c<t&&(i.removeClass("handler_bg").addClass("handler_ok_bg"),o.text("验证通过"),n.css({color:"#fff"}),i.unbind("mousedown"),$(document).unbind("mousemove"),$(document).unbind("mouseup"),$(".set_next").css({background:"rgb(255,0,54)"}),$(".set_next").click(function(){$(".set_username").css({display:"none"}),$(".set_dxyz").css({display:"block"});var n=$("#tel_number").val();$(".set_tel").html(n),$(".dxyz_text").blur(function(){null==$(this).val()||""==$(this).val?alert("验证码不能为空,请随意填写几个数字"):$(".dxyz_btn").click(function(){$(".set_dxyz").css({display:"none"}),$(".write_info").css({display:"block"}),$(".regist_li li").eq(1).css({color:"black","border-bottom":"2px solid rgb(250,54,0)"}).find("i").css({background:"rgb(250,54,0)"}),$(".huiyuanname").blur(function(){if(""==$(this).val()||null==$(this).val())alert("会员名不能为空");else{var s=$(".sex").val(),t=$(".zcxx_email").val(),e=$(".pwd02").val();$(".zcxx_btn").click(function(){$(".write_info").css({display:"none"}),$(".set_pay").css({display:"block"}),$(".get_yzm").click(function(){$(".jiaoyanma").css({display:"block"}),$(".jiaoyanma input").blur(function(){null==$(this).val()||""==$(this).val()?alert("校验码不能为空，请随意填写6位数字!"):$(".s_pay_btn").click(function(){$.post("http://47.104.244.134:8080/usersave.do",{username:n,password:e,email:t,sex:s},function(s){"0"==s.msg?alert("注册成功！"):alert("请不要重复注册！！")}),$(".set_pay").css({display:"none"}),$(".regist_succed").css({display:"block"}),$(".dlm").html(n),$(".regist_li li").eq(3).css({color:"black","border-bottom":"2px solid rgb(250,54,0)"}).find("i").css({background:"rgb(250,54,0)"})})})}),$(".regist_li li").eq(2).css({color:"black","border-bottom":"2px solid rgb(250,54,0)"}).find("i").css({background:"rgb(250,54,0)"})})}})})})})))}).mouseup(function(s){l=!1,s.pageX-e<c&&(i.css({left:0}),a.css({width:0}))})},$("#drag").drag(),$.get("../data/tel.json",function(s){var t="";for(var e in s)t+="<p><span>"+s[e][0]+"</span><span>"+s[e][1]+"</span></p>";$(".sel_div").html(t)}),$(".Tel_select .iconfont").click(function(){$(".sel_div").fadeToggle("fast")}),$("#tel_number").blur(function(){""==$(this).val()||null==$(this).val()?($(this).css({border:"1px solid red"}),$(".wrong").fadeIn("fast")):/^1(3|4|5|7|8)\d{9}$/.test($(this).val())?($(this).css({border:"1px solid rgb(204,204,204)"}),$(".wrong").fadeOut("fast"),$.get("http://47.104.244.134:8080/username.do",{username:$(this).val()},function(s){"0"==s.code&&alert("该手机用户已注册已注册")})):$(".wrong").css({background:"url(img/tel02.png)no-repeat"}).fadeIn("fast")}),$(".agree_btn input").click(function(){$(".agreement").css({display:"none"})}),$(".agreement .iconfont").click(function(){window.open("index.html")}),$(".set_dxyz .iconfont").click(function(){$(".set_dxyz").css({display:"none"}),$(".set_username").css({display:"block"})}),$(".zcxx_email").blur(function(){""==$(this).val()||null==$(this).val?($(this).css({border:"1px solid red"}),alert("邮箱不能为空！！")):/^\w+@\w+(\.\w+)+$/.test($(this).val())?($.get("http://47.104.244.134:8080/useremail.do",{email:$(this).val()},function(s){"0"==s.code&&alert("该邮箱已经存在，请更换邮箱！")}),$(this).css({border:"1px solid rgb(169,169,169)"})):alert("邮箱格式不正确！！")}),$(".pwd02").blur(function(){$(this).val()!==$(".pwd01").val()&&alert("两次密码不相同")})});